/*!
 * Chart.js
 * http://chartjs.org/
 * Version: {{ version }}
 *
 * Copyright 2015 Nick Downie
 * Released under the MIT license
 * https://github.com/nnnick/Chart.js/blob/master/LICENSE.md
 */
(function(){var A=this,J=A.Chart;var G=function(Y){var aa=this;this.canvas=Y.canvas;this.ctx=Y;var X=function(ab,ac){if(ab["offset"+ac]){return ab["offset"+ac]}else{return document.defaultView.getComputedStyle(ab).getPropertyValue(ac)}};var Z=this.width=X(Y.canvas,"Width")||Y.canvas.width;var W=this.height=X(Y.canvas,"Height")||Y.canvas.height;Y.canvas.width=Z;Y.canvas.height=W;Z=this.width=Y.canvas.width;W=this.height=Y.canvas.height;this.aspectRatio=this.width/this.height;H.retinaScale(this);return this};G.defaults={global:{animation:true,animationSteps:60,animationEasing:"easeOutQuart",showScale:true,scaleOverride:false,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:true,scaleLabel:"<%=value%>",scaleIntegersOnly:true,scaleBeginAtZero:false,scaleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",responsive:false,maintainAspectRatio:true,showTooltips:true,customTooltips:false,tooltipEvents:["mousemove","touchstart","touchmove","mouseout"],tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipFontSize:14,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipTitleFontSize:14,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipTitleTemplate:"<%= label%>",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%= value %>",multiTooltipKeyBackground:"#fff",onAnimationProgress:function(){},onAnimationComplete:function(){}}};G.types={};var H=G.helpers={};var N=H.each=function(Z,ab,X){var W=Array.prototype.slice.call(arguments,3);if(Z){if(Z.length===+Z.length){var Y;for(Y=0;Y<Z.length;Y++){ab.apply(X,[Z[Y],Y].concat(W))}}else{for(var aa in Z){ab.apply(X,[Z[aa],aa].concat(W))}}}},y=H.clone=function(X){var W={};N(X,function(Z,Y){if(X.hasOwnProperty(Y)){W[Y]=Z}});return W},s=H.extend=function(W){N(Array.prototype.slice.call(arguments,1),function(X){N(X,function(Z,Y){if(X.hasOwnProperty(Y)){W[Y]=Z}})});return W},L=H.merge=function(Y,X){var W=Array.prototype.slice.call(arguments,0);W.unshift({});return s.apply(null,W)},v=H.indexOf=function(W,Y){if(Array.prototype.indexOf){return W.indexOf(Y)}else{for(var X=0;X<W.length;X++){if(W[X]===Y){return X}}return -1}},m=H.where=function(Y,X){var W=[];H.each(Y,function(Z){if(X(Z)){W.push(Z)}});return W},e=H.findNextWhere=function(W,aa,Z){if(!Z){Z=-1}for(var Y=Z+1;Y<W.length;Y++){var X=W[Y];if(aa(X)){return X}}},D=H.findPreviousWhere=function(W,aa,Z){if(!Z){Z=W.length}for(var Y=Z-1;Y>=0;Y--){var X=W[Y];if(aa(X)){return X}}},h=H.inherits=function(X){var W=this;var Y=(X&&X.hasOwnProperty("constructor"))?X.constructor:function(){return W.apply(this,arguments)};var Z=function(){this.constructor=Y};Z.prototype=W.prototype;Y.prototype=new Z();Y.extend=h;if(X){s(Y.prototype,X)}Y.__super__=W.prototype;return Y},Q=H.noop=function(){},j=H.uid=(function(){var W=0;return function(){return"chart-"+W++}})(),r=H.warn=function(W){if(window.console&&typeof window.console.warn==="function"){console.warn(W)}},k=H.amd=(typeof define==="function"&&define.amd),U=H.isNumber=function(W){return !isNaN(parseFloat(W))&&isFinite(W)},z=H.max=function(W){return Math.max.apply(Math,W)},T=H.min=function(W){return Math.min.apply(Math,W)},I=H.cap=function(W,Y,X){if(U(Y)){if(W>Y){return Y}}else{if(U(X)){if(W<X){return X}}}return W},F=H.getDecimalPlaces=function(W){if(W%1!==0&&U(W)){var X=W.toString();if(X.indexOf("e-")<0){return X.split(".")[1].length}else{if(X.indexOf(".")<0){return parseInt(X.split("e-")[1])}else{var Y=X.split(".")[1].split("e-");return Y[0].length+parseInt(Y[1])}}}else{return 0}},M=H.radians=function(W){return W*(Math.PI/180)},a=H.getAngleFromPoint=function(Z,X){var aa=X.x-Z.x,W=X.y-Z.y,Y=Math.sqrt(aa*aa+W*W);var ab=Math.PI*2+Math.atan2(W,aa);if(aa<0&&W<0){ab+=Math.PI*2}return{angle:ab,distance:Y}},q=H.aliasPixel=function(W){return(W%2===0)?0:0.5},b=H.splineCurve=function(X,aa,ac,W){var ab=Math.sqrt(Math.pow(aa.x-X.x,2)+Math.pow(aa.y-X.y,2)),ad=Math.sqrt(Math.pow(ac.x-aa.x,2)+Math.pow(ac.y-aa.y,2)),Z=W*ab/(ab+ad),Y=W*ad/(ab+ad);return{inner:{x:aa.x-Z*(ac.x-X.x),y:aa.y-Z*(ac.y-X.y)},outer:{x:aa.x+Y*(ac.x-X.x),y:aa.y+Y*(ac.y-X.y)}}},S=H.calculateOrderOfMagnitude=function(W){return Math.floor(Math.log(W)/Math.LN10)},n=H.calculateScaleRange=function(X,ac,W,Y,ab){var ai=2,ad=Math.floor(ac/(W*1.5)),am=(ai>=ad);var ae=z(X),ak=T(X);if(ae===ak){ae+=0.5;if(ak>=0.5&&!Y){ak-=0.5}else{ae+=0.5}}var ag=Math.abs(ae-ak),ah=S(ag),Z=Math.ceil(ae/(1*Math.pow(10,ah)))*Math.pow(10,ah),aj=(Y)?0:Math.floor(ak/(1*Math.pow(10,ah)))*Math.pow(10,ah),aa=Z-aj,af=Math.pow(10,ah),al=Math.round(aa/af);while((al>ad||(al*2)<ad)&&!am){if(al>ad){af*=2;al=Math.round(aa/af);if(al%1!==0){am=true}}else{if(ab&&ah>=0){if(af/2%1===0){af/=2;al=Math.round(aa/af)}else{break}}else{af/=2;al=Math.round(aa/af)}}}if(am){al=ai;af=aa/al}return{steps:al,stepValue:af,min:aj,max:aj+(al*af)}},i=H.template=function(Z,Y){if(Z instanceof Function){return Z(Y)}var X={};function W(ac,ab){var aa=!/\W/.test(ac)?X[ac]=X[ac]:new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+ac.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');");return ab?aa(ab):aa}return W(Z,Y)},u=H.generateLabels=function(Z,X,aa,W){var Y=new Array(X);if(Z){N(Y,function(ac,ab){Y[ab]=i(Z,{value:(aa+(W*(ab+1)))})})}return Y},O=H.easingEffects={linear:function(W){return W},easeInQuad:function(W){return W*W},easeOutQuad:function(W){return -1*W*(W-2)},easeInOutQuad:function(W){if((W/=1/2)<1){return 1/2*W*W}return -1/2*((--W)*(W-2)-1)},easeInCubic:function(W){return W*W*W},easeOutCubic:function(W){return 1*((W=W/1-1)*W*W+1)},easeInOutCubic:function(W){if((W/=1/2)<1){return 1/2*W*W*W}return 1/2*((W-=2)*W*W+2)},easeInQuart:function(W){return W*W*W*W},easeOutQuart:function(W){return -1*((W=W/1-1)*W*W*W-1)},easeInOutQuart:function(W){if((W/=1/2)<1){return 1/2*W*W*W*W}return -1/2*((W-=2)*W*W*W-2)},easeInQuint:function(W){return 1*(W/=1)*W*W*W*W},easeOutQuint:function(W){return 1*((W=W/1-1)*W*W*W*W+1)},easeInOutQuint:function(W){if((W/=1/2)<1){return 1/2*W*W*W*W*W}return 1/2*((W-=2)*W*W*W*W+2)},easeInSine:function(W){return -1*Math.cos(W/1*(Math.PI/2))+1},easeOutSine:function(W){return 1*Math.sin(W/1*(Math.PI/2))},easeInOutSine:function(W){return -1/2*(Math.cos(Math.PI*W/1)-1)},easeInExpo:function(W){return(W===0)?1:1*Math.pow(2,10*(W/1-1))},easeOutExpo:function(W){return(W===1)?1:1*(-Math.pow(2,-10*W/1)+1)},easeInOutExpo:function(W){if(W===0){return 0}if(W===1){return 1}if((W/=1/2)<1){return 1/2*Math.pow(2,10*(W-1))}return 1/2*(-Math.pow(2,-10*--W)+2)},easeInCirc:function(W){if(W>=1){return W}return -1*(Math.sqrt(1-(W/=1)*W)-1)},easeOutCirc:function(W){return 1*Math.sqrt(1-(W=W/1-1)*W)},easeInOutCirc:function(W){if((W/=1/2)<1){return -1/2*(Math.sqrt(1-W*W)-1)}return 1/2*(Math.sqrt(1-(W-=2)*W)+1)},easeInElastic:function(X){var Y=1.70158;var Z=0;var W=1;if(X===0){return 0}if((X/=1)==1){return 1}if(!Z){Z=1*0.3}if(W<Math.abs(1)){W=1;Y=Z/4}else{Y=Z/(2*Math.PI)*Math.asin(1/W)}return -(W*Math.pow(2,10*(X-=1))*Math.sin((X*1-Y)*(2*Math.PI)/Z))},easeOutElastic:function(X){var Y=1.70158;var Z=0;var W=1;if(X===0){return 0}if((X/=1)==1){return 1}if(!Z){Z=1*0.3}if(W<Math.abs(1)){W=1;Y=Z/4}else{Y=Z/(2*Math.PI)*Math.asin(1/W)}return W*Math.pow(2,-10*X)*Math.sin((X*1-Y)*(2*Math.PI)/Z)+1},easeInOutElastic:function(X){var Y=1.70158;var Z=0;var W=1;if(X===0){return 0}if((X/=1/2)==2){return 1}if(!Z){Z=1*(0.3*1.5)}if(W<Math.abs(1)){W=1;Y=Z/4}else{Y=Z/(2*Math.PI)*Math.asin(1/W)}if(X<1){return -0.5*(W*Math.pow(2,10*(X-=1))*Math.sin((X*1-Y)*(2*Math.PI)/Z))}return W*Math.pow(2,-10*(X-=1))*Math.sin((X*1-Y)*(2*Math.PI)/Z)*0.5+1},easeInBack:function(W){var X=1.70158;return 1*(W/=1)*W*((X+1)*W-X)},easeOutBack:function(W){var X=1.70158;return 1*((W=W/1-1)*W*((X+1)*W+X)+1)},easeInOutBack:function(W){var X=1.70158;if((W/=1/2)<1){return 1/2*(W*W*(((X*=(1.525))+1)*W-X))}return 1/2*((W-=2)*W*(((X*=(1.525))+1)*W+X)+2)},easeInBounce:function(W){return 1-O.easeOutBounce(1-W)},easeOutBounce:function(W){if((W/=1)<(1/2.75)){return 1*(7.5625*W*W)}else{if(W<(2/2.75)){return 1*(7.5625*(W-=(1.5/2.75))*W+0.75)}else{if(W<(2.5/2.75)){return 1*(7.5625*(W-=(2.25/2.75))*W+0.9375)}else{return 1*(7.5625*(W-=(2.625/2.75))*W+0.984375)}}}},easeInOutBounce:function(W){if(W<1/2){return O.easeInBounce(W*2)*0.5}return O.easeOutBounce(W*2-1)*0.5+1*0.5}},d=H.requestAnimFrame=(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(W){return window.setTimeout(W,1000/60)}})(),P=H.cancelAnimFrame=(function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(W){return window.clearTimeout(W,1000/60)}})(),B=H.animationLoop=function(ab,W,aa,ac,Z,ae){var X=0,ad=O[aa]||O.linear;var Y=function(){X++;var ag=X/W;var af=ad(ag);ab.call(ae,af,ag,X);ac.call(ae,af,ag);if(X<W){ae.animationFrame=d(Y)}else{Z.apply(ae)}};d(Y)},C=H.getRelativePosition=function(W){var aa,Z;var ab=W.originalEvent||W,Y=W.currentTarget||W.srcElement,X=Y.getBoundingClientRect();if(ab.touches){aa=ab.touches[0].clientX-X.left;Z=ab.touches[0].clientY-X.top}else{aa=ab.clientX-X.left;Z=ab.clientY-X.top}return{x:aa,y:Z}},p=H.addEvent=function(X,W,Y){if(X.addEventListener){X.addEventListener(W,Y)}else{if(X.attachEvent){X.attachEvent("on"+W,Y)}else{X["on"+W]=Y}}},c=H.removeEvent=function(Y,W,X){if(Y.removeEventListener){Y.removeEventListener(W,X,false)}else{if(Y.detachEvent){Y.detachEvent("on"+W,X)}else{Y["on"+W]=Q}}},R=H.bindEvents=function(W,Y,X){if(!W.events){W.events={}}N(Y,function(Z){W.events[Z]=function(){X.apply(W,arguments)};p(W.chart.canvas,Z,W.events[Z])})},V=H.unbindEvents=function(W,X){N(X,function(Z,Y){c(W.chart.canvas,Y,Z)})},t=H.getMaximumWidth=function(X){var W=X.parentNode,Y=parseInt(K(W,"padding-left"))+parseInt(K(W,"padding-right"));return W.clientWidth-Y},o=H.getMaximumHeight=function(X){var W=X.parentNode,Y=parseInt(K(W,"padding-bottom"))+parseInt(K(W,"padding-top"));return W.clientHeight-Y},K=H.getStyle=function(W,X){return W.currentStyle?W.currentStyle[X]:document.defaultView.getComputedStyle(W,null).getPropertyValue(X)},x=H.getMaximumSize=H.getMaximumWidth,g=H.retinaScale=function(Z){var X=Z.ctx,Y=Z.canvas.width,W=Z.canvas.height;if(window.devicePixelRatio){X.canvas.style.width=Y+"px";X.canvas.style.height=W+"px";X.canvas.height=W*window.devicePixelRatio;X.canvas.width=Y*window.devicePixelRatio;X.scale(window.devicePixelRatio,window.devicePixelRatio)}},E=H.clear=function(W){W.ctx.clearRect(0,0,W.width,W.height)},f=H.fontString=function(X,Y,W){return Y+" "+X+"px "+W},w=H.longestText=function(W,X,Z){W.font=X;var Y=0;N(Z,function(aa){var ab=W.measureText(aa).width;Y=(ab>Y)?ab:Y});return Y},l=H.drawRoundedRectangle=function(Z,Y,ab,aa,X,W){Z.beginPath();Z.moveTo(Y+W,ab);Z.lineTo(Y+aa-W,ab);Z.quadraticCurveTo(Y+aa,ab,Y+aa,ab+W);Z.lineTo(Y+aa,ab+X-W);Z.quadraticCurveTo(Y+aa,ab+X,Y+aa-W,ab+X);Z.lineTo(Y+W,ab+X);Z.quadraticCurveTo(Y,ab+X,Y,ab+X-W);Z.lineTo(Y,ab+W);Z.quadraticCurveTo(Y,ab,Y+W,ab);Z.closePath()};G.instances={};G.Type=function(Y,W,X){this.options=W;this.chart=X;this.id=j();G.instances[this.id]=this;if(W.responsive){this.resize()}this.initialize.call(this,Y)};s(G.Type.prototype,{initialize:function(){return this},clear:function(){E(this.chart);return this},stop:function(){G.animationService.cancelAnimation(this);return this},resize:function(Z){this.stop();var X=this.chart.canvas,Y=t(this.chart.canvas),W=this.options.maintainAspectRatio?Y/this.chart.aspectRatio:o(this.chart.canvas);X.width=this.chart.width=Y;X.height=this.chart.height=W;g(this.chart);if(typeof Z==="function"){Z.apply(this,Array.prototype.slice.call(arguments,1))}return this},reflow:Q,render:function(W){if(W){this.reflow()}if(this.options.animation&&!W){var X=new G.Animation();X.numSteps=this.options.animationSteps;X.easing=this.options.animationEasing;X.render=function(Z,ab){var ac=H.easingEffects[ab.easing];var aa=ab.currentStep/ab.numSteps;var Y=ac(aa);Z.draw(Y,aa,ab.currentStep)};X.onAnimationProgress=this.options.onAnimationProgress;X.onAnimationComplete=this.options.onAnimationComplete;G.animationService.addAnimation(this,X)}else{this.draw();this.options.onAnimationComplete.call(this)}return this},generateLegend:function(){return i(this.options.legendTemplate,this)},destroy:function(){this.clear();V(this,this.events);var W=this.chart.canvas;W.width=this.chart.width;W.height=this.chart.height;if(W.style.removeProperty){W.style.removeProperty("width");W.style.removeProperty("height")}else{W.style.removeAttribute("width");W.style.removeAttribute("height")}delete G.instances[this.id]},showTooltip:function(X,Y){if(typeof this.activeElements==="undefined"){this.activeElements=[]}var ad=(function(ag){var af=false;if(ag.length!==this.activeElements.length){af=true;return af}N(ag,function(ai,ah){if(ai!==this.activeElements[ah]){af=true}},this);return af}).call(this,X);if(!ad&&!Y){return}else{this.activeElements=X}this.draw();if(this.options.customTooltips){this.options.customTooltips(false)}if(X.length>0){if(this.datasets&&this.datasets.length>1){var ac,ab;for(var Z=this.datasets.length-1;Z>=0;Z--){ac=this.datasets[Z].points||this.datasets[Z].bars||this.datasets[Z].segments;ab=v(ac,X[0]);if(ab!==-1){break}}var aa=[],W=[],ae=(function(ak){var af=[],al,an=[],ai=[],aj,ah,ag,am;H.each(this.datasets,function(ao){al=ao.points||ao.bars||ao.segments;if(al[ab]&&al[ab].hasValue()){af.push(al[ab])}});H.each(af,function(ao){an.push(ao.x);ai.push(ao.y);aa.push(H.template(this.options.multiTooltipTemplate,ao));W.push({fill:ao._saved.fillColor||ao.fillColor,stroke:ao._saved.strokeColor||ao.strokeColor})},this);am=T(ai);ah=z(ai);ag=T(an);aj=z(an);return{x:(ag>this.chart.width/2)?ag:aj,y:(am+ah)/2}}).call(this,ab);new G.MultiTooltip({x:ae.x,y:ae.y,xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,xOffset:this.options.tooltipXOffset,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,titleTextColor:this.options.tooltipTitleFontColor,titleFontFamily:this.options.tooltipTitleFontFamily,titleFontStyle:this.options.tooltipTitleFontStyle,titleFontSize:this.options.tooltipTitleFontSize,cornerRadius:this.options.tooltipCornerRadius,labels:aa,legendColors:W,legendColorBackground:this.options.multiTooltipKeyBackground,title:i(this.options.tooltipTitleTemplate,X[0]),chart:this.chart,ctx:this.chart.ctx,custom:this.options.customTooltips}).draw()}else{N(X,function(af){var ag=af.tooltipPosition();new G.Tooltip({x:Math.round(ag.x),y:Math.round(ag.y),xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,caretHeight:this.options.tooltipCaretSize,cornerRadius:this.options.tooltipCornerRadius,text:i(this.options.tooltipTemplate,af),chart:this.chart,custom:this.options.customTooltips}).draw()},this)}}return this},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)}});G.Type.extend=function(aa){var Z=this;var Y=function(){return Z.apply(this,arguments)};Y.prototype=y(Z.prototype);s(Y.prototype,aa);Y.extend=G.Type.extend;if(aa.name||Z.prototype.name){var X=aa.name||Z.prototype.name;var W=(G.defaults[Z.prototype.name])?y(G.defaults[Z.prototype.name]):{};G.defaults[X]=s(W,aa.defaults);G.types[X]=Y;G.prototype[X]=function(ad,ac){var ab=L(G.defaults.global,G.defaults[X],ac||{});return new Y(ad,ab,this)}}else{r("Name not provided for this chart, so it hasn't been registered")}return Z};G.Element=function(W){s(this,W);this.initialize.apply(this,arguments);this.save()};s(G.Element.prototype,{initialize:function(){},restore:function(W){if(!W){s(this,this._saved)}else{N(W,function(X){this[X]=this._saved[X]},this)}return this},save:function(){this._saved=y(this);delete this._saved._saved;return this},update:function(W){N(W,function(Y,X){this._saved[X]=this[X];this[X]=Y},this);return this},transition:function(W,X){N(W,function(Z,Y){this[Y]=((Z-this._saved[Y])*X)+this._saved[Y]},this);return this},tooltipPosition:function(){return{x:this.x,y:this.y}},hasValue:function(){return U(this.value)}});G.Element.extend=h;G.Point=G.Element.extend({display:true,inRange:function(W,Y){var X=this.hitDetectionRadius+this.radius;return((Math.pow(W-this.x,2)+Math.pow(Y-this.y,2))<Math.pow(X,2))},draw:function(){if(this.display){var W=this.ctx;W.beginPath();W.arc(this.x,this.y,this.radius,0,Math.PI*2);W.closePath();W.strokeStyle=this.strokeColor;W.lineWidth=this.strokeWidth;W.fillStyle=this.fillColor;W.fill();W.stroke()}}});G.Arc=G.Element.extend({inRange:function(X,aa){var W=H.getAngleFromPoint(this,{x:X,y:aa});var Z=(W.angle>=this.startAngle&&W.angle<=this.endAngle),Y=(W.distance>=this.innerRadius&&W.distance<=this.outerRadius);return(Z&&Y)},tooltipPosition:function(){var W=this.startAngle+((this.endAngle-this.startAngle)/2),X=(this.outerRadius-this.innerRadius)/2+this.innerRadius;return{x:this.x+(Math.cos(W)*X),y:this.y+(Math.sin(W)*X)}},draw:function(Y){var X=Y||1;var W=this.ctx;W.beginPath();W.arc(this.x,this.y,this.outerRadius,this.startAngle,this.endAngle);W.arc(this.x,this.y,this.innerRadius,this.endAngle,this.startAngle,true);W.closePath();W.strokeStyle=this.strokeColor;W.lineWidth=this.strokeWidth;W.fillStyle=this.fillColor;W.fill();W.lineJoin="bevel";if(this.showStroke){W.stroke()}}});G.Rectangle=G.Element.extend({draw:function(){var W=this.ctx,ab=this.width/2,Y=this.x-ab,X=this.x+ab,aa=this.base-(this.base-this.y),Z=this.strokeWidth/2;if(this.showStroke){Y+=Z;X-=Z;aa+=Z}W.beginPath();W.fillStyle=this.fillColor;W.strokeStyle=this.strokeColor;W.lineWidth=this.strokeWidth;W.moveTo(Y,this.base);W.lineTo(Y,aa);W.lineTo(X,aa);W.lineTo(X,this.base);W.fill();if(this.showStroke){W.stroke()}},height:function(){return this.base-this.y},inRange:function(W,X){return(W>=this.x-this.width/2&&W<=this.x+this.width/2)&&(X>=this.y&&X<=this.base)}});G.Animation=G.Element.extend({currentStep:null,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null});G.Tooltip=G.Element.extend({draw:function(){var Z=this.chart.ctx;Z.font=f(this.fontSize,this.fontStyle,this.fontFamily);this.xAlign="center";this.yAlign="above";var Y=this.caretPadding=2;var aa=Z.measureText(this.text).width+2*this.xPadding,X=this.fontSize+2*this.yPadding,ab=X+this.caretHeight+Y;if(this.x+aa/2>this.chart.width){this.xAlign="left"}else{if(this.x-aa/2<0){this.xAlign="right"}}if(this.y-ab<0){this.yAlign="below"}var W=this.x-aa/2,ac=this.y-ab;Z.fillStyle=this.fillColor;if(this.custom){this.custom(this)}else{switch(this.yAlign){case"above":Z.beginPath();Z.moveTo(this.x,this.y-Y);Z.lineTo(this.x+this.caretHeight,this.y-(Y+this.caretHeight));Z.lineTo(this.x-this.caretHeight,this.y-(Y+this.caretHeight));Z.closePath();Z.fill();break;case"below":ac=this.y+Y+this.caretHeight;Z.beginPath();Z.moveTo(this.x,this.y+Y);Z.lineTo(this.x+this.caretHeight,this.y+Y+this.caretHeight);Z.lineTo(this.x-this.caretHeight,this.y+Y+this.caretHeight);Z.closePath();Z.fill();break}switch(this.xAlign){case"left":W=this.x-aa+(this.cornerRadius+this.caretHeight);break;case"right":W=this.x-(this.cornerRadius+this.caretHeight);break}l(Z,W,ac,aa,X,this.cornerRadius);Z.fill();Z.fillStyle=this.textColor;Z.textAlign="center";Z.textBaseline="middle";Z.fillText(this.text,W+aa/2,ac+X/2)}}});G.MultiTooltip=G.Element.extend({initialize:function(){this.font=f(this.fontSize,this.fontStyle,this.fontFamily);this.titleFont=f(this.titleFontSize,this.titleFontStyle,this.titleFontFamily);this.height=(this.labels.length*this.fontSize)+((this.labels.length-1)*(this.fontSize/2))+(this.yPadding*2)+this.titleFontSize*1.5;this.ctx.font=this.titleFont;var Z=this.ctx.measureText(this.title).width,X=w(this.ctx,this.font,this.labels)+this.fontSize+3,Y=z([X,Z]);this.width=Y+(this.xPadding*2);var W=this.height/2;if(this.y-W<0){this.y=W}else{if(this.y+W>this.chart.height){this.y=this.chart.height-W}}if(this.x>this.chart.width/2){this.x-=this.xOffset+this.width}else{this.x+=this.xOffset}},getLineHeight:function(W){var Y=this.y-(this.height/2)+this.yPadding,X=W-1;if(W===0){return Y+this.titleFontSize/2}else{return Y+((this.fontSize*1.5*X)+this.fontSize/2)+this.titleFontSize*1.5}},draw:function(){if(this.custom){this.custom(this)}else{l(this.ctx,this.x,this.y-this.height/2,this.width,this.height,this.cornerRadius);var W=this.ctx;W.fillStyle=this.fillColor;W.fill();W.closePath();W.textAlign="left";W.textBaseline="middle";W.fillStyle=this.titleTextColor;W.font=this.titleFont;W.fillText(this.title,this.x+this.xPadding,this.getLineHeight(0));W.font=this.font;H.each(this.labels,function(Y,X){W.fillStyle=this.textColor;W.fillText(Y,this.x+this.xPadding+this.fontSize+3,this.getLineHeight(X+1));W.fillStyle=this.legendColorBackground;W.fillRect(this.x+this.xPadding,this.getLineHeight(X+1)-this.fontSize/2,this.fontSize,this.fontSize);W.fillStyle=this.legendColors[X].fill;W.fillRect(this.x+this.xPadding,this.getLineHeight(X+1)-this.fontSize/2,this.fontSize,this.fontSize)},this)}}});G.Scale=G.Element.extend({initialize:function(){this.fit()},buildYLabels:function(){this.yLabels=[];var X=F(this.stepValue);for(var W=0;W<=this.steps;W++){this.yLabels.push(i(this.templateString,{value:(this.min+(W*this.stepValue)).toFixed(X)}))}this.yLabelWidth=(this.display&&this.showLabels)?w(this.ctx,this.font,this.yLabels)+10:0},addXLabel:function(W){this.xLabels.push(W);this.valuesCount++;this.fit()},removeXLabel:function(){this.xLabels.shift();this.valuesCount--;this.fit()},fit:function(){this.startPoint=(this.display)?this.fontSize:0;this.endPoint=(this.display)?this.height-(this.fontSize*1.5)-5:this.height;this.startPoint+=this.padding;this.endPoint-=this.padding;var Y=this.endPoint;var X=this.endPoint-this.startPoint,W;this.calculateYRange(X);this.buildYLabels();this.calculateXLabelRotation();while((X>this.endPoint-this.startPoint)){X=this.endPoint-this.startPoint;W=this.yLabelWidth;this.calculateYRange(X);this.buildYLabels();if(W<this.yLabelWidth){this.endPoint=Y;this.calculateXLabelRotation()}}},calculateXLabelRotation:function(){this.ctx.font=this.font;var Y=this.ctx.measureText(this.xLabels[0]).width,W=this.ctx.measureText(this.xLabels[this.xLabels.length-1]).width,X,ad;this.xScalePaddingRight=W/2+3;this.xScalePaddingLeft=(Y/2>this.yLabelWidth)?Y/2:this.yLabelWidth;this.xLabelRotation=0;if(this.display){var Z=w(this.ctx,this.font,this.xLabels),ac,aa;this.xLabelWidth=Z;var ab=Math.floor(this.calculateX(1)-this.calculateX(0))-6;while((this.xLabelWidth>ab&&this.xLabelRotation===0)||(this.xLabelWidth>ab&&this.xLabelRotation<=90&&this.xLabelRotation>0)){ac=Math.cos(M(this.xLabelRotation));X=ac*Y;ad=ac*W;if(X+this.fontSize/2>this.yLabelWidth){this.xScalePaddingLeft=X+this.fontSize/2}this.xScalePaddingRight=this.fontSize/2;this.xLabelRotation++;this.xLabelWidth=ac*Z}if(this.xLabelRotation>0){this.endPoint-=Math.sin(M(this.xLabelRotation))*Z+3}}else{this.xLabelWidth=0;this.xScalePaddingRight=this.padding;this.xScalePaddingLeft=this.padding}},calculateYRange:Q,drawingArea:function(){return this.startPoint-this.endPoint},calculateY:function(X){var W=this.drawingArea()/(this.min-this.max);return this.endPoint-(W*(X-this.min))},calculateX:function(Y){var Z=(this.xLabelRotation>0),X=this.width-(this.xScalePaddingLeft+this.xScalePaddingRight),W=X/Math.max((this.valuesCount-((this.offsetGridLines)?0:1)),1),aa=(W*Y)+this.xScalePaddingLeft;if(this.offsetGridLines){aa+=(W/2)}return Math.round(aa)},update:function(W){H.extend(this,W);this.fit()},draw:function(){var W=this.ctx,X=(this.endPoint-this.startPoint)/this.steps,Y=Math.round(this.xScalePaddingLeft);if(this.display){W.fillStyle=this.textColor;W.font=this.font;N(this.yLabels,function(ab,aa){var ac=this.endPoint-(X*aa),ad=Math.round(ac),Z=this.showHorizontalLines;W.textAlign="right";W.textBaseline="middle";if(this.showLabels){W.fillText(ab,Y-10,ac)}if(aa===0&&!Z){Z=true}if(Z){W.beginPath()}if(aa>0){W.lineWidth=this.gridLineWidth;W.strokeStyle=this.gridLineColor}else{W.lineWidth=this.lineWidth;W.strokeStyle=this.lineColor}ad+=H.aliasPixel(W.lineWidth);if(Z){W.moveTo(Y,ad);W.lineTo(this.width,ad);W.stroke();W.closePath()}W.lineWidth=this.lineWidth;W.strokeStyle=this.lineColor;W.beginPath();W.moveTo(Y-5,ad);W.lineTo(Y,ad);W.stroke();W.closePath()},this);N(this.xLabels,function(aa,Z){var ad=this.calculateX(Z)+q(this.lineWidth),ab=this.calculateX(Z-(this.offsetGridLines?0.5:0))+q(this.lineWidth),ac=(this.xLabelRotation>0),ae=this.showVerticalLines;if(Z===0&&!ae){ae=true}if(ae){W.beginPath()}if(Z>0){W.lineWidth=this.gridLineWidth;W.strokeStyle=this.gridLineColor}else{W.lineWidth=this.lineWidth;W.strokeStyle=this.lineColor}if(ae){W.moveTo(ab,this.endPoint);W.lineTo(ab,this.startPoint-3);W.stroke();W.closePath()}W.lineWidth=this.lineWidth;W.strokeStyle=this.lineColor;W.beginPath();W.moveTo(ab,this.endPoint);W.lineTo(ab,this.endPoint+5);W.stroke();W.closePath();W.save();W.translate(ad,(ac)?this.endPoint+12:this.endPoint+8);W.rotate(M(this.xLabelRotation)*-1);W.font=this.font;W.textAlign=(ac)?"right":"center";W.textBaseline=(ac)?"middle":"top";W.fillText(aa,0,0);W.restore()},this)}}});G.RadialScale=G.Element.extend({initialize:function(){this.size=T([this.height,this.width]);this.drawingArea=(this.display)?(this.size/2)-(this.fontSize/2+this.backdropPaddingY):(this.size/2)},calculateCenterOffset:function(X){var W=this.drawingArea/(this.max-this.min);return(X-this.min)*W},update:function(){if(!this.lineArc){this.setScaleSize()}else{this.drawingArea=(this.display)?(this.size/2)-(this.fontSize/2+this.backdropPaddingY):(this.size/2)}this.buildYLabels()},buildYLabels:function(){this.yLabels=[];var X=F(this.stepValue);for(var W=0;W<=this.steps;W++){this.yLabels.push(i(this.templateString,{value:(this.min+(W*this.stepValue)).toFixed(X)}))}},getCircumference:function(){return((Math.PI*2)/this.valuesCount)},setScaleSize:function(){var W=T([(this.height/2-this.pointLabelFontSize-5),this.width/2]),ak,aa,ah,Z,al=this.width,aj,ad,ac=0,ag,Y,ai,af,ab,X,ae;this.ctx.font=f(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily);for(aa=0;aa<this.valuesCount;aa++){ak=this.getPointPosition(aa,W);ah=this.ctx.measureText(i(this.templateString,{value:this.labels[aa]})).width+5;if(aa===0||aa===this.valuesCount/2){Z=ah/2;if(ak.x+Z>al){al=ak.x+Z;aj=aa}if(ak.x-Z<ac){ac=ak.x-Z;ag=aa}}else{if(aa<this.valuesCount/2){if(ak.x+ah>al){al=ak.x+ah;aj=aa}}else{if(aa>this.valuesCount/2){if(ak.x-ah<ac){ac=ak.x-ah;ag=aa}}}}}ai=ac;af=Math.ceil(al-this.width);ad=this.getIndexAngle(aj);Y=this.getIndexAngle(ag);ab=af/Math.sin(ad+Math.PI/2);X=ai/Math.sin(Y+Math.PI/2);ab=(U(ab))?ab:0;X=(U(X))?X:0;this.drawingArea=W-(X+ab)/2;this.setCenterPoint(X,ab)},setCenterPoint:function(Z,W){var Y=this.width-W-this.drawingArea,X=Z+this.drawingArea;this.xCenter=(X+Y)/2;this.yCenter=(this.height/2)},getIndexAngle:function(X){var W=(Math.PI*2)/this.valuesCount;return X*W-(Math.PI/2)},getPointPosition:function(X,Y){var W=this.getIndexAngle(X);return{x:(Math.cos(W)*Y)+this.xCenter,y:(Math.sin(W)*Y)+this.yCenter}},draw:function(){if(this.display){var ae=this.ctx;N(this.yLabels,function(aj,ai){if(ai>0){var ah=ai*(this.drawingArea/this.steps),ag=this.yCenter-ah,al;if(this.lineWidth>0){ae.strokeStyle=this.lineColor;ae.lineWidth=this.lineWidth;if(this.lineArc){ae.beginPath();ae.arc(this.xCenter,this.yCenter,ah,0,Math.PI*2);ae.closePath();ae.stroke()}else{ae.beginPath();for(var ak=0;ak<this.valuesCount;ak++){al=this.getPointPosition(ak,this.calculateCenterOffset(this.min+(ai*this.stepValue)));if(ak===0){ae.moveTo(al.x,al.y)}else{ae.lineTo(al.x,al.y)}}ae.closePath();ae.stroke()}}if(this.showLabels){ae.font=f(this.fontSize,this.fontStyle,this.fontFamily);if(this.showLabelBackdrop){var af=ae.measureText(aj).width;ae.fillStyle=this.backdropColor;ae.fillRect(this.xCenter-af/2-this.backdropPaddingX,ag-this.fontSize/2-this.backdropPaddingY,af+this.backdropPaddingX*2,this.fontSize+this.backdropPaddingY*2)}ae.textAlign="center";ae.textBaseline="middle";ae.fillStyle=this.fontColor;ae.fillText(aj,this.xCenter,ag)}}},this);if(!this.lineArc){ae.lineWidth=this.angleLineWidth;ae.strokeStyle=this.angleLineColor;for(var Y=this.valuesCount-1;Y>=0;Y--){if(this.angleLineWidth>0){var X=this.getPointPosition(Y,this.calculateCenterOffset(this.max));ae.beginPath();ae.moveTo(this.xCenter,this.yCenter);ae.lineTo(X.x,X.y);ae.stroke();ae.closePath()}var ab=this.getPointPosition(Y,this.calculateCenterOffset(this.max)+5);ae.font=f(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily);ae.fillStyle=this.pointLabelFontColor;var W=this.labels.length,Z=this.labels.length/2,ad=Z/2,ac=(Y<ad||Y>W-ad),aa=(Y===ad||Y===W-ad);if(Y===0){ae.textAlign="center"}else{if(Y===Z){ae.textAlign="center"}else{if(Y<Z){ae.textAlign="left"}else{ae.textAlign="right"}}}if(aa){ae.textBaseline="middle"}else{if(ac){ae.textBaseline="bottom"}else{ae.textBaseline="top"}}ae.fillText(this.labels[Y],ab.x,ab.y)}}}}});G.animationService={frameDuration:17,animations:[],dropFrames:0,addAnimation:function(W,Y){for(var X=0;X<this.animations.length;++X){if(this.animations[X].chartInstance===W){this.animations[X].animationObject=Y;return}}this.animations.push({chartInstance:W,animationObject:Y});if(this.animations.length==1){H.requestAnimFrame.call(window,this.digestWrapper)}},cancelAnimation:function(W){var X=H.findNextWhere(this.animations,function(Y){return Y.chartInstance===W});if(X){this.animations.splice(X,1)}},digestWrapper:function(){G.animationService.startDigest.call(G.animationService)},startDigest:function(){var aa=Date.now();var W=0;if(this.dropFrames>1){W=Math.floor(this.dropFrames);this.dropFrames-=W}for(var Z=0;Z<this.animations.length;Z++){if(this.animations[Z].animationObject.currentStep===null){this.animations[Z].animationObject.currentStep=0}this.animations[Z].animationObject.currentStep+=1+W;if(this.animations[Z].animationObject.currentStep>this.animations[Z].animationObject.numSteps){this.animations[Z].animationObject.currentStep=this.animations[Z].animationObject.numSteps}this.animations[Z].animationObject.render(this.animations[Z].chartInstance,this.animations[Z].animationObject);if(this.animations[Z].animationObject.currentStep==this.animations[Z].animationObject.numSteps){this.animations.splice(Z,1);Z--}}var X=Date.now();var Y=X-aa-this.frameDuration;var ab=Y/this.frameDuration;if(ab>1){this.dropFrames+=ab}if(this.animations.length>0){H.requestAnimFrame.call(window,this.digestWrapper)}}};H.addEvent(window,"resize",(function(){var W;return function(){clearTimeout(W);W=setTimeout(function(){N(G.instances,function(X){if(X.options.responsive){X.resize(X.render,true)}})},50)}})());if(k){define(function(){return G})}else{if(typeof module==="object"&&module.exports){module.exports=G}}A.Chart=G;G.noConflict=function(){A.Chart=J;return G}}).call(this);(function(){var c=this,b=c.Chart,d=b.helpers;var a={segmentShowStroke:true,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:true,animateScale:false,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"><%if(segments[i].label){%><%=segments[i].label%><%}%></span></li><%}%></ul>'};b.Type.extend({name:"Doughnut",defaults:a,initialize:function(e){this.segments=[];this.outerRadius=(d.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2;this.SegmentArc=b.Arc.extend({ctx:this.chart.ctx,x:this.chart.width/2,y:this.chart.height/2});if(this.options.showTooltips){d.bindEvents(this,this.options.tooltipEvents,function(f){var g=(f.type!=="mouseout")?this.getSegmentsAtEvent(f):[];d.each(this.segments,function(h){h.restore(["fillColor"])});d.each(g,function(h){h.fillColor=h.highlightColor});this.showTooltip(g)})}this.calculateTotal(e);d.each(e,function(g,f){if(!g.color){g.color="hsl("+(360*f/e.length)+", 100%, 50%)"}this.addData(g,f,true)},this);this.render()},getSegmentsAtEvent:function(h){var g=[];var f=d.getRelativePosition(h);d.each(this.segments,function(e){if(e.inRange(f.x,f.y)){g.push(e)}},this);return g},addData:function(h,g,e){var f=g!==undefined?g:this.segments.length;this.segments.splice(f,0,new this.SegmentArc({value:h.value,outerRadius:(this.options.animateScale)?0:this.outerRadius,innerRadius:(this.options.animateScale)?0:(this.outerRadius/100)*this.options.percentageInnerCutout,fillColor:h.color,highlightColor:h.highlight||h.color,showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,startAngle:Math.PI*1.5,circumference:(this.options.animateRotate)?0:this.calculateCircumference(h.value),label:h.label}));if(!e){this.reflow();this.update()}},calculateCircumference:function(e){if(this.total>0){return(Math.PI*2)*(e/this.total)}else{return 0}},calculateTotal:function(e){this.total=0;d.each(e,function(f){this.total+=Math.abs(f.value)},this)},update:function(){this.calculateTotal(this.segments);d.each(this.activeElements,function(e){e.restore(["fillColor"])});d.each(this.segments,function(e){e.save()});this.render()},removeData:function(f){var e=(d.isNumber(f))?f:this.segments.length-1;this.segments.splice(e,1);this.reflow();this.update()},reflow:function(){d.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2});this.outerRadius=(d.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2;d.each(this.segments,function(e){e.update({outerRadius:this.outerRadius,innerRadius:(this.outerRadius/100)*this.options.percentageInnerCutout})},this)},draw:function(e){var f=(e)?e:1;this.clear();d.each(this.segments,function(h,g){h.transition({circumference:this.calculateCircumference(h.value),outerRadius:this.outerRadius,innerRadius:(this.outerRadius/100)*this.options.percentageInnerCutout},f);h.endAngle=h.startAngle+h.circumference;h.draw();if(g===0){h.startAngle=Math.PI*1.5}if(g<this.segments.length-1){this.segments[g+1].startAngle=h.endAngle}},this)}});b.types.Doughnut.extend({name:"Pie",defaults:d.merge(a,{percentageInnerCutout:0})})}).call(this);
